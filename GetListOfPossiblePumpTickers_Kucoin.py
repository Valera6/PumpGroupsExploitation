import requests
from time import sleep
from pprint import pprint
import json

r = requests.get("https://api.kucoin.com/api/v1/symbols").json()

symbols = []
for chunk in r['data']:
    symbols.append(chunk['baseCurrency'])

symbols = sorted(symbols)
toRemove = []
for i, symbol in enumerate(symbols):
    if i!=0 and symbols[i]==symbols[i-1]:
        toRemove.append(symbol)
    elif symbol[-2:]=='3L' or symbol[-2:]=='3S':
        toRemove.append(symbol)
    elif not symbol[0].isupper() and not symbol[0].isnumeric():
        toRemove.append(symbol)

for symbol in toRemove:
    symbols.remove(symbol)

print(len(symbols))

with open('allTickers.json', 'w') as f:
    json.dump(symbols, f)
